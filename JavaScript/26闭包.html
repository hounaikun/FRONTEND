<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<button>1</button>
<button>2</button>
<button>3</button>
<script>
    //遍历+监听
    //第一种（错误）
    // let btns = document.getElementsByTagName("button");
    // for(var i =0;i<btns.length;i++){
    //     btns[i].onclick = function () {
    //         alert(i); //全部都是3，因为function属于回调函数，当调用时，i已经全部变成3了
    //     }
    // }
    //第二种（可以）
    // let btns = document.getElementsByTagName("button");
    // for(var i =0;i<btns.length;i++){
    //     btns[i].index = i
    //     btns[i].onclick = function () {
    //         alert(this.index); //把下标保存到每个控件的index属性里面
    //     }
    // }
    //第三种（闭包）
    let btns = document.getElementsByTagName("button");
    for(var i =0;i<btns.length;i++){
        (function(i){
            btns[i].onclick = function () {
                alert(i);
            }
        })(i)

    }


</script>
</body>
</html>